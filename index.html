<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Estadísticas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .chart-container { 
            height: 300px;
            position: relative;
            margin-top: 1rem;
        }
        .loading {
            position: relative;
            min-height: 200px;
        }
        .loading::after {
            content: '';
            position: absolute;
            inset: 0;
            background: rgba(255,255,255,0.8) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233B82F6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cline x1='12' y1='2' x2='12' y2='6'%3E%3C/line%3E%3Cline x1='12' y1='18' x2='12' y2='22'%3E%3C/line%3E%3Cline x1='4.93' y1='4.93' x2='7.76' y2='7.76'%3E%3C/line%3E%3Cline x1='16.24' y1='16.24' x2='19.07' y2='19.07'%3E%3C/line%3E%3Cline x1='2' y1='12' x2='6' y2='12'%3E%3C/line%3E%3Cline x1='18' y1='12' x2='22' y2='12'%3E%3C/line%3E%3Cline x1='4.93' y1='19.07' x2='7.76' y2='16.24'%3E%3C/line%3E%3Cline x1='16.24' y1='7.76' x2='19.07' y2='4.93'%3E%3C/line%3E%3C/svg%3E") center/36px no-repeat;
        }
        .chart-container:not(.loading)::after {
            display: none;
        }
        .sidebar {
            position: fixed;
            height: 100vh;
            z-index: 50;
        }
        @media (max-width: 768px) {
            .sidebar {
                left: -100%;
                transition: left 0.3s ease-in-out;
            }
            .sidebar.open {
                left: 0;
            }
            .overlay {
                display: none;
                position: fixed;
                inset: 0;
                background: rgba(0,0,0,0.5);
                z-index: 40;
            }
            .overlay.show {
                display: block;
            }
        }
    </style>
</head>
<body class="bg-gray-100">
    <!-- Mobile Menu Button -->
    <button id="menuBtn" class="fixed top-4 left-4 z-50 p-2 bg-blue-600 text-white rounded-lg shadow-lg md:hidden">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Overlay -->
    <div id="overlay" class="overlay" onclick="toggleMenu()"></div>

    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar w-64 bg-white shadow-lg overflow-y-auto">
            <div class="p-4 bg-blue-600 sticky top-0">
                <h1 class="text-white text-xl font-semibold">Panel de Estadísticas</h1>
            </div>
            <nav class="mt-4">
                <a href="#total-visits" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
                    <i class="fas fa-chart-line w-6"></i>
                    <span>Visitas Totales</span>
                </a>
                <a href="#visits-by-day" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
                    <i class="fas fa-calendar-day w-6"></i>
                    <span>Visitas por Día</span>
                </a>
                <a href="#visits-by-country" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
                    <i class="fas fa-globe w-6"></i>
                    <span>Visitas por País</span>
                </a>
                <a href="#visits-by-parameter" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
                    <i class="fas fa-filter w-6"></i>
                    <span>Visitas por Parámetro</span>
                </a>
                <a href="#visits-by-hour" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
                    <i class="fas fa-clock w-6"></i>
                    <span>Visitas por Hora</span>
                </a>
                <a href="#visits-by-device" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
                    <i class="fas fa-mobile-alt w-6"></i>
                    <span>Visitas por Dispositivo</span>
                </a>
                <a href="#visits-by-status" class="flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 hover:text-blue-600 transition-colors">
                    <i class="fas fa-signal w-6"></i>
                    <span>Visitas por Estado</span>
                </a>
            </nav>
        </div>

        <!-- Main Content -->
        <div class="flex-1 p-8 md:ml-64">
            <!-- Total Visits -->
            <section id="total-visits" class="mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-semibold mb-4">Visitas Totales</h2>
                    <div class="text-4xl font-bold text-blue-600" id="total-visits-count">Cargando...</div>
                </div>
            </section>

            <!-- Visits by Day -->
            <section id="visits-by-day" class="mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-semibold mb-4">Visitas por Día</h2>
                    <div class="chart-container loading">
                        <canvas id="visits-by-day-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Visits by Country -->
            <section id="visits-by-country" class="mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-semibold mb-4">Visitas por País</h2>
                    <div class="chart-container loading">
                        <canvas id="visits-by-country-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Visits by Parameter -->
            <section id="visits-by-parameter" class="mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-semibold mb-4">Visitas por Parámetro</h2>
                    <div class="chart-container loading">
                        <canvas id="visits-by-parameter-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Visits by Hour -->
            <section id="visits-by-hour" class="mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-semibold mb-4">Visitas por Hora</h2>
                    <div class="chart-container loading">
                        <canvas id="visits-by-hour-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Visits by Device -->
            <section id="visits-by-device" class="mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-semibold mb-4">Visitas por Dispositivo</h2>
                    <div class="chart-container loading">
                        <canvas id="visits-by-device-chart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Visits by Status -->
            <section id="visits-by-status" class="mb-8">
                <div class="bg-white rounded-lg shadow p-6">
                    <h2 class="text-2xl font-semibold mb-4">Visitas por Estado</h2>
                    <div class="chart-container loading">
                        <canvas id="visits-by-status-chart"></canvas>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <script>
        // Mobile menu functionality
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            sidebar.classList.toggle('open');
            overlay.classList.toggle('show');
        }

        document.getElementById('menuBtn').addEventListener('click', toggleMenu);

        // Smooth scrolling for navigation
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                const targetSection = document.querySelector(targetId);
                
                if (targetSection) {
                    targetSection.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }

                // Close menu on mobile after clicking
                if (window.innerWidth < 768) {
                    toggleMenu();
                }
            });
        });
    </script>
    <script src="js/app.js"></script>
</body>
</html>
